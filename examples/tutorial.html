<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Post It All! - Customizable sticky notes for the web.">
    <meta name="author" content="Javi Filella">
    <link rel="icon" href="favicon.ico">

    <title>Post It All! Sticky notes for the web | Dashboard</title>

    <link href="../libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../libs/jquery-ui/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="../libs/trumbowyg/dist/ui/trumbowyg.css">
    <link rel="stylesheet" href="../libs/minicolors/jquery.minicolors.css">
    <link rel="stylesheet" href="../dist/jquery.postitall.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="../css/cover.css" rel="stylesheet">

</head>

<body>

    <div class="site-wrapper">
        <div class="site-wrapper-inner">
            <div class="cover-container">

                <nav class="navbar navbar-dark navbar-light navbar-fixed-top">
                    <div class="container">
                        <ul class="nav nav-pills">
                            <li class="nav-item navbar-brand"><a href="#" id="idTitle">Post It All - Examples</a></li>
                            <li class="nav-item active">
                                <a class="nav-link" href="basic.html">Basic</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="selectedtext.html">Selected text</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="tutorial.html">Tutorial</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="localStorage.html">Local storage</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="externalStorage.html">External storage</a>
                            </li>
                        </ul>
                        <ul class="nav navbar-nav pull-right">
                            <li class="nav-item active">
                              <a class="nav-link" href="../plugin.html#home"><i class="fa fa-arrow-left"></i> Back to jquery plugin</a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <div class="container">

                  <div class="starter-template">
                    <h1>Tutorial example</h1>
                    <p class="lead">You can use note events to create a custom tutorial.<br>
                    In this example, we will show a 3 steps tutorial with blocked content and navigate links to next/previous step acording to the note-step position.</p>
                    <button class="btn btn-primary" id="idStart">Launch tutorial</button>
                  </div>

                </div><!-- /.container -->

                <div class="mastfoot">
                    <div class="inner">
                        <p>&copy; 2015 <a href="http://postitall.txusko.com">Post It All!</a> by <a href="http://twitter.com/txusko">Javi Filella</a>.</p>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../libs/jquery/dist/jquery.min.js"></script>
    <script src="../libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../libs/jquery-ui/jquery-ui.min.js"></script>
    <script src="../libs/trumbowyg/dist/trumbowyg.min.js"></script>
    <script src="../libs/minicolors/jquery.minicolors.min.js"></script>
    <script src="../dist/jquery.postitall.js"></script>
    <script src="../js/app.js"></script>


    <script>
    $(document).ready(function() {

        var steps = [
            [{
                content: "With this navbar you can can navigate to the diferent examples of this plugin.",
                element         : '.nav-pills a:first',
                position        : 'bottom',
            }],[{
                content: "With this button you can launch the tutorial as many times as you want.",
                element         : '#idStart',
                position        : 'right',
            }],[{
                content: "I hope you enjoy this tutorial :p",
                element         : 'h1',
                position        : 'right',
            }]
        ];

        var running = false;
        var tutorial = function(steps) {
            if(running) return;

            var currentStep = 0;
            var idStep = "";

            $(document).delegate('.PIA-next', 'click', function(e) {
                $(idStep).postitall('destroy');
                e.preventDefault();
            });
            $(document).delegate('.PIA-previous', 'click', function(e) {
                currentStep -= 2;
                $(idStep).postitall('destroy');
                e.preventDefault();
            });

            var newNote = function(step) {
                currentStep++;
                var content = step.content;
                var element = step.element;
                var position = step.position;
                var previousStepLiteral = (currentStep > 1 ? "Previous" : "");
                var nextStepLiteral = (steps.length > currentStep ? "Next" : "Finish");
                $.PostItAll.new({
                    content: content + "<p>"
                        + "<p style='text-align:center;'>Step " + currentStep.toString() + " of " + steps.length + "<br>"
                        + (previousStepLiteral != "" ? "<a href='#' class='PIA-previous'>" + previousStepLiteral + "</a> | " : "")
                        + "<a href='#' class='PIA-next'>" + nextStepLiteral + "</a>"
                        + "</p></p>",
                    attachedTo : {
                        element : element,
                        position : position,
                    },
                    flags: {
                        highlight: true,
                        blocked: true
                    },
                    features: {
                        editable : false,
                        draggable: false,
                        resizable: false,
                        htmlEditor: false,
                        toolbar : false,
                    },
                    onCreated: function(id) {
                        running = true;
                        idStep = id;
                    },
                    onDelete : function() {
                        if(steps.length > currentStep) {
                            //Next step
                            newNote(steps[currentStep][0]);
                        }Â else {
                            //Finished
                            running = false;
                            $('#the_lights_close').click();
                        }
                    }
                });
            };
            //Trigger note for the first step
            if(steps.length > 0)
                newNote(steps[0][0]);
        };

        $('#idStart').click(function() {
            tutorial(steps);
        });
    });
    </script>

  </body>
</html>
